-- Create user table
CREATE TABLE user (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role TINYINT(1) NOT NULL CHECK (role IN (0, 1))
);

-- Create category table
CREATE TABLE category (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    category_name VARCHAR(100) UNIQUE NOT NULL,
    post INT DEFAULT 0
);

-- Create post table
CREATE TABLE post (
    post_id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    category INT NOT NULL,
    post_date VARCHAR(50) NOT NULL,
    author INT NOT NULL,
    post_img VARCHAR(255),
    FOREIGN KEY (category) REFERENCES category(category_id) ON DELETE CASCADE,
    FOREIGN KEY (author) REFERENCES user(user_id) ON DELETE CASCADE
);